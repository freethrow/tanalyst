from django import template

register = template.Library()

# Simple translation dictionary
TRANSLATIONS = {
    'it': {
        'Home': 'Home',
        'Approved': 'Approvati',
        'Discarded': 'Scartati',
        'Sectors': 'Settori',
        'Send Email': 'Invia Email',
        'Vector Search': 'Ricerca Vettoriale',
        'About': 'Chi Siamo',
        'Navigation': 'Navigazione',
        'Company': 'Azienda',
        'About us': 'Chi Siamo',
        'Contact': 'Contatti',
        'Pending': 'In Attesa',
        'Sent': 'Inviato',
        'Approve': 'Approva',
        'Discard': 'Scarta',
        'Restore': 'Ripristina',
        'Edit': 'Modifica',
        'Edit article': 'Modifica articolo',
        'Read more': 'Leggi tutto',
        'Published': 'Pubblicato',
        'Source': 'Fonte',
        'Original Link': 'Link Originale',
        # Weekly Summary translations
        'Weekly Summaries': 'Riepiloghi Settimanali',
        'Weekly Business Summaries': 'Riepiloghi Settimanali Business',
        'Generate New Summary': 'Genera Nuovo Riepilogo',
        'AI-generated weekly analysis of business news': 'Analisi settimanale AI delle notizie business',
        'Total Summaries': 'Riepiloghi Totali',
        'Generated reports': 'Report generati',
        'Executive Summary': 'Sintesi Esecutiva',
        'Featured Sectors': 'Settori in Evidenza',
        'Read Full Summary': 'Leggi Riepilogo Completo',
        'No Weekly Summaries Yet': 'Nessun Riepilogo Settimanale',
        'Generate your first weekly business summary to get started with AI-powered analysis.': 'Genera il tuo primo riepilogo settimanale per iniziare con l\'analisi AI.',
        'Generate First Summary': 'Genera Primo Riepilogo',
        'article analyzed': 'articolo analizzato',
        'articles analyzed': 'articoli analizzati',
        'week period': 'periodo di settimana',
        'weeks period': 'periodo di settimane',
        'Back to Summaries': 'Torna ai Riepiloghi',
        'Print': 'Stampa',
        'Generated': 'Generato',
        'Period': 'Periodo',
        'Main Trends': 'Tendenze Principali',
        'Opportunities for Italian Companies': 'Opportunit√† per le Aziende Italiane',
        'Complete Analysis': 'Analisi Completa',
        'Generated by': 'Generato da',
        'View All Summaries': 'Vedi Tutti i Riepiloghi',
        'Download PDF': 'Scarica PDF',
        'Fonte:': 'Fonte:',
        'Articolo originale': 'Articolo originale',
        'Searching...': 'Ricerca in corso...',
        'Vector Search': 'Ricerca Vettoriale',
        'Search by meaning, not just keywords - find articles with similar concepts and topics': 'Cerca per significato, non solo parole chiave - trova articoli con concetti e argomenti simili',
        'Enter your search query...': 'Inserisci la tua query di ricerca...',
        'Search': 'Cerca',
        'No results found': 'Nessun risultato trovato',
        'Try different search terms or check your spelling': 'Prova termini di ricerca diversi o controlla l\'ortografia',
        'Start searching': 'Inizia la ricerca',
        'Enter a query above to find relevant articles': 'Inserisci una query sopra per trovare articoli pertinenti',
        'result': 'risultato',
        'results': 'risultati',
    },
    'en': {
        'Home': 'Home',
        'Approved': 'Approved',
        'Discarded': 'Discarded',
        'Sectors': 'Sectors',
        'Send Email': 'Send Email',
        'Vector Search': 'Vector Search',
        'About': 'About',
        'Navigation': 'Navigation',
        'Company': 'Company',
        'About us': 'About us',
        'Contact': 'Contact',
        'Pending': 'Pending',
        'Sent': 'Sent',
        'Approve': 'Approve',
        'Discard': 'Discard',
        'Restore': 'Restore',
        'Edit': 'Edit',
        'Edit article': 'Edit article',
        'Read more': 'Read more',
        'Published': 'Published',
        'Source': 'Source',
        'Original Link': 'Original Link',
        # Weekly Summary translations
        'Weekly Summaries': 'Weekly Summaries',
        'Weekly Business Summaries': 'Weekly Business Summaries',
        'Generate New Summary': 'Generate New Summary',
        'AI-generated weekly analysis of business news': 'AI-generated weekly analysis of business news',
        'Total Summaries': 'Total Summaries',
        'Generated reports': 'Generated reports',
        'Executive Summary': 'Executive Summary',
        'Featured Sectors': 'Featured Sectors',
        'Read Full Summary': 'Read Full Summary',
        'No Weekly Summaries Yet': 'No Weekly Summaries Yet',
        'Generate your first weekly business summary to get started with AI-powered analysis.': 'Generate your first weekly business summary to get started with AI-powered analysis.',
        'Generate First Summary': 'Generate First Summary',
        'article analyzed': 'article analyzed',
        'articles analyzed': 'articles analyzed',
        'week period': 'week period',
        'weeks period': 'weeks period',
        'Back to Summaries': 'Back to Summaries',
        'Print': 'Print',
        'Generated': 'Generated',
        'Period': 'Period',
        'Main Trends': 'Main Trends',
        'Opportunities for Italian Companies': 'Opportunities for Italian Companies',
        'Complete Analysis': 'Complete Analysis',
        'Generated by': 'Generated by',
        'View All Summaries': 'View All Summaries',
        'Download PDF': 'Download PDF',
        'Fonte:': 'Source:',
        'Articolo originale': 'Original Article',
        'Searching...': 'Searching...',
        'Vector Search': 'Vector Search',
        'Search by meaning, not just keywords - find articles with similar concepts and topics': 'Search by meaning, not just keywords - find articles with similar concepts and topics',
        'Enter your search query...': 'Enter your search query...',
        'Search': 'Search',
        'No results found': 'No results found',
        'Try different search terms or check your spelling': 'Try different search terms or check your spelling',
        'Start searching': 'Start searching',
        'Enter a query above to find relevant articles': 'Enter a query above to find relevant articles',
        'result': 'result',
        'results': 'results',
    }
}

@register.filter
def translate(text, language=None):
    """Template filter to translate text based on current language"""
    if not language:
        # Get language from context or default to Italian
        language = 'it'
    
    # Get the translation for the current language
    if language in TRANSLATIONS:
        return TRANSLATIONS[language].get(text, text)
    
    # Fallback to original text
    return text
